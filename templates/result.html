{% extends "base.html" %}

{% block title %}Success - MailMorph{% endblock %}

{% block content %}
<section class="hero-section">
    <h1 class="hero-title">Transformation Complete</h1>
    <p class="hero-subtitle">Successfully updated domains while preserving data structure.</p>
</section>

<section class="glass-card">
    <h3>Results</h3>
    <div class="results-stats">
        <div class="stat-item">
            <span class="stat-number">{{ result.changes_made }}</span>
            <span class="stat-label">Emails Updated</span>
        </div>
        <div class="stat-item">
            <span class="stat-number">{{ result.total_rows }}</span>
            <span class="stat-label">Total Rows</span>
        </div>
        <div class="stat-item">
            <span class="stat-number">{{ ((result.changes_made / result.total_rows) * 100) | round(1) }}%</span>
            <span class="stat-label">Success Rate</span>
        </div>
        <div class="stat-item">
            <span class="stat-number"><i class="bi bi-shield-check"></i></span>
            <span class="stat-label">Secure & Auto-Cleaned</span>
        </div>
    </div>
    <div style="text-align: center; margin-top: 2rem;">
        <a href="{{ url_for('download_file', filename=result.output_file) }}" class="btn-future">Download Result</a>
    </div>
</section>

<div style="text-align: center; margin-top: 2rem;">
    <a href="{{ url_for('index') }}" style="color: var(--primary-blue-light); font-weight: bold; font-size: 1.1rem;">Transform another file</a>
</div>
{% endblock %}

{% block footer %}
<footer style="border-top: none; position: fixed; bottom: 0; left: 0; width: 100%; z-index: 1000; background: var(--bg-indigo); padding: 1rem 2rem;">
    Built with precision for secure data transformation | <span style="font-style: italic;">Powered by <a href="https://niostudio.com" style="color: var(--neon-green); text-decoration: none;">Niostudio</a></span>
</footer>
{% endblock %}
